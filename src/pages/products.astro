---
import "../styles/global.css";
import BaseLayout from "../layouts/BaseLayout.astro";
import Card from "../components/Card.astro";
import Ellipse from "../components/Ellipse.astro";
---

<BaseLayout>
    <Ellipse top="55%" left="88%" width="500px" height="500px" opacity="0.25" />

    <div class="container mt-24 px-36 flex justify-center items-center">
        <!-- Header Part-->
        <h2 class="text-[34px] font-bold tracking-tighter leading-10">
            Our Featured Products
        </h2>
    </div>

    <!--Nav Links -->
    <nav class="mt-12">
        <div class="container mx-auto flex justify-around items-center">
            <div
                class="hidden lg:flex space-x-16 font-bold text-[#9A9AB0] font-dm-sans items-center text-[20px] tracking-tighter"
            >
                <!-- Navbar Links -->
                <a
                    href="#"
                    data-description="AirSep is world renowned as the premier manufacturer of PSA oxygen generating systems for medical and industrial applications. The company’s two divisions meet a wide variety of respiratory and commercial needs in more than 100 countries."
                    class="hover:text-[#48A5D0] active:text-[#48A5D0]"
                >
                    AirSep
                </a>
                <a
                    href="#"
                    data-description="Channal MED specializes in medical devices and services that improve patient care..."
                    class="hover:text-[#48A5D0] active:text-[#48A5D0]"
                >
                    Channal MED
                </a>
                <a
                    href="#"
                    data-description="Diasys offers comprehensive diagnostic solutions that enhance the quality of laboratory testing..."
                    class="hover:text-[#48A5D0] active:text-[#48A5D0]"
                >
                    Diasys
                </a>
                <a
                    href="#"
                    data-description="Manfils Biomedica is a leader in biomedical research and development, providing cutting-edge solutions..."
                    class="hover:text-[#48A5D0] active:text-[#48A5D0]"
                >
                    Manfils Biomedica
                </a>
                <a
                    href="#"
                    data-description="Norav specializes in advanced cardiovascular diagnostic systems that are used globally..."
                    class="hover:text-[#48A5D0] active:text-[#48A5D0]"
                >
                    Norav
                </a>
                <a
                    href="#"
                    data-description="CSN-Industries produces high-quality industrial equipment and machinery for various sectors..."
                    class="hover:text-[#48A5D0] active:text-[#48A5D0]"
                >
                    CSN-Industries
                </a>
                <a
                    href="#"
                    data-description="Ultra-Dent offers a wide range of dental products that are trusted by professionals worldwide..."
                    class="hover:text-[#48A5D0] active:text-[#48A5D0]"
                >
                    Ultra-Dent
                </a>
            </div>
            <!-- Dropdown Menu for small screens -->
            <div class="lg:hidden w-full">
                <button id="dropdownButton" class="flex justify-between items-center w-full px-4 py-2 border rounded-md text-[#9A9AB0] font-bold text-[20px]">
                    Menu
                    <img src="/img/MenuIcon.png" alt="Menu" class="w-[20px] h-[20px]" />
                </button>
                <div id="dropdownMenu" class="hidden flex-col space-y-4 mt-4 px-4">
                    <!-- Dropdown Links -->
                    <a
                        href="#"
                        data-description="AirSep is world renowned as the premier manufacturer of PSA oxygen generating systems for medical and industrial applications. The company’s two divisions meet a wide variety of respiratory and commercial needs in more than 100 countries."
                        class="block hover:text-[#48A5D0] active:text-[#48A5D0]"
                    >
                        AirSep
                    </a>
                    <a
                        href="#"
                        data-description="Channal MED specializes in medical devices and services that improve patient care..."
                        class="block hover:text-[#48A5D0] active:text-[#48A5D0]"
                    >
                        Channal MED
                    </a>
                    <a
                        href="#"
                        data-description="Diasys offers comprehensive diagnostic solutions that enhance the quality of laboratory testing..."
                        class="block hover:text-[#48A5D0] active:text-[#48A5D0]"
                    >
                        Diasys
                    </a>
                    <a
                        href="#"
                        data-description="Manfils Biomedica is a leader in biomedical research and development, providing cutting-edge solutions..."
                        class="block hover:text-[#48A5D0] active:text-[#48A5D0]"
                    >
                        Manfils Biomedica
                    </a>
                    <a
                        href="#"
                        data-description="Norav specializes in advanced cardiovascular diagnostic systems that are used globally..."
                        class="block hover:text-[#48A5D0] active:text-[#48A5D0]"
                    >
                        Norav
                    </a>
                    <a
                        href="#"
                        data-description="CSN-Industries produces high-quality industrial equipment and machinery for various sectors..."
                        class="block hover:text-[#48A5D0] active:text-[#48A5D0]"
                    >
                        CSN-Industries
                    </a>
                    <a
                        href="#"
                        data-description="Ultra-Dent offers a wide range of dental products that are trusted by professionals worldwide..."
                        class="block hover:text-[#48A5D0] active:text-[#48A5D0]"
                    >
                        Ultra-Dent
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <div
        id="category-container"
        class="w-full 2xl:max-w-[78%] xl:max-w-[88.5%] mx-auto mt-10 mb-10 border border-black rounded-md"
    >
        <div
            id="category-rectangle"
            class="w-full p-4 border rounded cursor-pointer flex justify-between items-center bg-[#EEEFF1]"
        >
            <div class="text-[19px] font-bold leading-[30px]">
                Category Description
            </div>
            <div id="arrow" class="transform transition-transform duration-300">
                ➔
            </div>
        </div>
        <div id="description-box" class="p-4 border-t hidden">
            <p
                id="description-text"
                class="text-[17px] leading-[30px] font-normal"
            >
                <!-- Default description here -->
                AirSep is world renowned as the premier manufacturer of PSA oxygen
                generating systems for medical and industrial applications...
            </p>
        </div>
    </div>

    <!--Cards -->
    <div
        class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 2xl:mx-[154px] xl:mx-[70px] gap-y-5"
    >
        <Card
            imageUrl="https://via.placeholder.com/420x316"
            category="Product Category "
            title="775l-36 Wheel Chair"
        />
        <Card
            imageUrl="https://via.placeholder.com/420x316"
            category="Product Category "
            title="775l-36 Wheel Chair"
        />
        <Card
            imageUrl="https://via.placeholder.com/420x316"
            category="Product Category "
            title="775l-36 Wheel Chair"
        />
        <Card
            imageUrl="https://via.placeholder.com/420x316"
            category="Product Category "
            title="775l-36 Wheel Chair"
        />
        <Card
            imageUrl="https://via.placeholder.com/420x316"
            category="Product Category "
            title="775l-36 Wheel Chair"
        />
        <Card
            imageUrl="https://via.placeholder.com/420x316"
            category="Product Category "
            title="775l-36 Wheel Chair"
        />
    </div>

    <!--Script Section -->
    <script>
        const rectangle = document.getElementById("category-rectangle");
        const descriptionBox = document.getElementById("description-box");
        const descriptionText = document.getElementById("description-text");
        const arrow = document.getElementById("arrow");
        const navLinks = document.querySelectorAll("nav a[data-description]");
        const dropdownButton = document.getElementById("dropdownButton");
        const dropdownMenu = document.getElementById("dropdownMenu");

        if (
            rectangle &&
            descriptionBox &&
            descriptionText &&
            arrow &&
            navLinks &&
            dropdownButton &&
            dropdownMenu
        ) {
            navLinks.forEach((link) => {
                link.addEventListener("click", (event) => {
                    event.preventDefault();

                    // Remove active class (text-[#48A5D0]) from all links
                    navLinks.forEach((link) => {
                        link.classList.remove("text-[#48A5D0]");
                        link.classList.add("text-[#9A9AB0]"); // Reset to original color
                    });

                    // Add active class (text-[#48A5D0]) to clicked link
                    link.classList.remove("text-[#9A9AB0]");
                    link.classList.add("text-[#48A5D0]");

                    const description = link.getAttribute("data-description");
                    if (description) {
                        descriptionText.innerText = description;
                    }

                    descriptionBox.classList.remove("hidden");
                    arrow.classList.add("rotate-90");
                    arrow.classList.add("rotate-90");
                    arrow.innerHTML = "↓";
                });
            });

            // Category rectangle click event
            rectangle.addEventListener("click", () => {
                descriptionBox.classList.toggle("hidden");
                arrow.classList.toggle("rotate-90");
                arrow.classList.toggle("rotate-90");

                if (arrow.classList.contains("rotate-90")) {
                    arrow.innerHTML = "↓";
                } else {
                    arrow.innerHTML = "➔";
                }
            });

            // Dropdown menu button click event
            dropdownButton.addEventListener("click", () => {
                dropdownMenu.classList.toggle("hidden");
            });
        }
    </script>
</BaseLayout>
